<h1>Bookings</h1>

<div class="row">
  <div class="col-lg-3">
    <a [routerLink]='["/add-booking"]'>
      Add Booking
    </a>
  </div>
</div>

<p *ngIf="!bookings"><em>Loading...</em></p>

<div id="chart" *ngIf="bookings">

  <dx-scheduler [dataSource]="bookings"
                [remoteFiltering]="true"
                [views]='["month"]'
                currentView="month"
                [currentDate]="currentDate"                
                [height]="600"
                textExpr="roomid"
                startDateExpr="startDateObj"
                endDateExpr="endDateObj"
                allDayExpr="AllDay">
  </dx-scheduler>

</div>

<table class='table' *ngIf="bookings">
  <thead>
    <tr>
      <th>Room</th>
      <th>Start Date</th>
      <th>End Date</th>
      <th>Used Places</th>
      <th>Gender</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let booking of bookings | paginate: { itemsPerPage: 15, currentPage: p }">
      <td>{{ booking.room.number }}</td>
      <td>{{ booking.startDate | date }}</td>
      <td>{{ booking.endDate | date }}</td>
      <td>{{ booking.usedPlaces }}</td>
      <td>{{ booking.gender == 0 ? 'M' : 'F' }}</td>

    </tr>
  </tbody>
</table>
<pagination-controls (pageChange)="p = $event"></pagination-controls>
